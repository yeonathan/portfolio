<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Analyseur de mots-clés (Offline)</title>
  <style>
    body { font-family: sans-serif; background: #f4f7f9; color: #333; max-width: 800px; margin: auto; padding: 20px; }
    h1 { color: #004d4d; }
    textarea { width: 100%; height: 180px; margin-top: 10px; }
    button { background: #00796b; color: white; border: none; padding: 10px 20px; margin-top: 10px; cursor: pointer; }
    .output { background: white; padding: 15px; border-radius: 6px; margin-top: 20px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .label { font-weight: bold; color: #00796b; margin-bottom: 10px; }
  </style>
</head>
<body>

<h1>Extracteur de mots-clés</h1>
<p>Collez un texte de profil, de CV ou de job description. Les mots-clés les plus fréquents s'afficheront :</p>

<textarea id="textInput" placeholder="Exemple : Data Scientist avec Python, SQL, Machine Learning, Deep Learning..."></textarea>
<br>
<button onclick="extractKeywords()">Analyser</button>

<div class="output" id="result">
  <div class="label">Mots-clés détectés :</div>
  <div id="keywords">En attente...</div>
</div>

<script>
function extractKeywords() {
  const text = document.getElementById("textInput").value.toLowerCase();

  const stopWords = [
    "le", "la", "les", "un", "une", "des", "de", "du", "dans", "en", "et", "avec", "par", "pour", "sur", "à", "au",
    "est", "ce", "qui", "que", "nous", "vous", "ils", "elles", "il", "elle", "ne", "pas", "plus", "comme"
  ];

  const words = text.split(/[^a-zA-Zéèêàçù0-9\+]/).filter(word =>
    word.length > 2 && !stopWords.includes(word)
  );

  const counts = {};
  words.forEach(word => {
    counts[word] = (counts[word] || 0) + 1;
  });

  const sorted = Object.entries(counts)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 20)
    .map(([word]) => word);

  document.getElementById("keywords").innerText = sorted.length > 0
    ? sorted.join(", ")
    : "Aucun mot-clé détecté.";
}
</script>

</body>
</html>
